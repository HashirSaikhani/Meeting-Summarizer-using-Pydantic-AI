Meeting: Chatbot System Design and Operations
=============================================

The meeting on 'Chatbot System Design and Operations' covered several critical areas for developing and managing the chatbot system.

**1. System Foundation & Data Ingestion:**
*   Initial setup faced challenges with Meta's API for test number verification and approval, requiring consideration for case/solution provider registration and cost impact.
*   The chatbot pipeline needs to be designed for new clients, including deployment, knowledge base formatting (Google Docs, Word, PDF), ingestion, and updates. All document types will be transcribed to a common 'co-fax' format, with backend handling for non-Excel chats.
*   Data ingestion will support various formats (Excel, PDF, text, meeting transcripts, Google backups), focusing on abstract/channel level registration for structured information and comprehensive FAQs.
*   Existing chat data (up to 6 months/1 year) can be bulk exported for insights, and selective polling will be implemented. WhatsApp Business account integration for chat backups was discussed, with attention to WhatsApp's message storage policies.

**2. Dynamic Information & Functionality:**
*   The system will use old data to identify recurring questions and handle dynamic information (e.g., course rates) automatically via LLM, with no manual supervision. An interface for master data updates will push changes to embeds via function calling for dynamic facts.
*   Message types will include text, audio, and images, with initial support for images in messages (e.g., posters) and dynamic content fetched from the DB using function calling tools.

**3. Intent Recognition & Human Escalation:**
*   Intent is determined by prompts. Low similarity scores or repeated failures will trigger human escalation. A prototype for intervention recognition and flow diagram has been developed.
*   Escalation involves the chatbot forwarding queries, requiring approval for template messages. Human agents will handle complex queries directly via the WhatsApp Business account UI, with the chatbot waiting for their response.
*   API limitations mean no group conversations; human escalations require sufficient context for one-to-one resolution. A dashboard will track escalations, allowing humans to address them without leaving the system.
*   Challenges include managing multiple client numbers and handling cases where clients prefer direct WhatsApp interaction over software interfaces for human support. WhatsApp API polling, charges, and active user limits (5k-20k) were noted as complexities.

**4. Human Takeover & System Behavior:**
*   During escalation, the human takes ownership, and a ticket is generated. The chatbot will cease responding until the human agent explicitly closes the escalation in the system to avoid confusion.
*   The system will manage multiple sessions per user and prioritize single-thread contexts for simplicity, though context management for multiple queries was discussed.
*   Explicit human connection will be provided if a user requests to speak to a person. Audio/video handling will involve transcribing audio to text.
*   Human agents will be assigned based on timing, with tracking for unresponded escalations. A service packaging model (DevOps 'service' or 'work unit') will include escalators and a knowledge base (static/dynamic).
*   The system will be single-tenant but support multiple services per tenant, with configurable limits and transparent management of escalations and service assignments.

**5. Media Handling & System Limits:**
*   Images and videos will be supported, with videos initially ignored for processing but viewed, and audio extracted and treated as text. The system will convert video information to text for processing.
*   Rate limits will be imposed for all message types (text, audio, images, video) based on user activity (e.g., 60 messages/hour, audio length limits, text length limits, image file limits).
*   Configurable system limits (e.g., page limits) will prevent overloading.

**6. Chatbot Conduct & Content Management:**
*   The bot should behave clearly and avoid confusion. Partial implementation of security and audit features.
*   Irrelevant content (e.g., movie queries) will be automatically handled. Repeated similar queries, if deemed errors or irrelevant, can lead to temporary blocking (24 hours) or flagging on the dashboard.
*   A dynamic and configurable flag list will enable tagging new questions with low similarity scores.
*   New information will undergo a review cycle (1-2 weeks configurable) before being approved and added to the knowledge base, with mechanisms to identify and handle duplicate information.

**7. Dashboard Analytics & Metrics:**
*   The dashboard will display topics, frequency, matches, and trends, providing insights into message relevance and new questions. It will also support escalation, verification, backup, and release tracking.
*   Success rates, session termination (e.g., after 24 hours of inactivity), and quality ratings will be tracked, along with user mobile numbers and interaction durations for metrics.
*   A high-level flow diagram needs to be created, with tool selection to be determined.